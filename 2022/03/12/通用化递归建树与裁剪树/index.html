<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>通用化递归建树与裁剪树 | Jim&#39;s Personal Blog</title>
    <meta name="author" content="Jim" />
    <meta name="keywords" content="" />
    <meta name="description" content="背景：项目中经常碰到需要生成森林/树（严格上讲，非二叉树的森林）的场景，比如部门树、菜单树等等树的遍历:无非BSF/DSF,借助递归/线性表（栈、队列）实现。要点有三：1.用递归方式实现DSF遍历来构建森林/树2.利用接口+泛型，抽象化树节点，以便支持更多不同类型节点（部门/菜单）的场景3.通过树节点字段的过滤，实现对树的裁剪1.如何构建一棵森林/树？在构建之前，需要定义树节点。简单起见，定义树节点如下12345678910111213public class Node &amp;#123;    pr" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />

    
    <link rel="alternate" href="/atom.xml" title="Jim&#39;s Personal Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/images/favicon.ico">
    

    <style type="text/css">
    @font-face {
        font-family: 'icomoon';
        src: url("/fonts/icomoon.eot?q628ml");
        src: url("/fonts/icomoon.eot?q628ml#iefix") format('embedded-opentype'),
             url("/fonts/icomoon.ttf?q628ml") format('truetype'),
             url("/fonts/icomoon.woff?q628ml") format('woff'),
             url("/fonts/icomoon.svg?q628ml#icomoon") format('svg');
        font-weight: normal;
        font-style: normal;
    }
    </style>
    
<link rel="stylesheet" href="/css/style.css">


    <!--[if lt IE 9]><style type="text/css">.nav-inner {top:0;}.author-meta {position:static;top:0;}.search-form {height:36px;}</style><script type="text/javascript" src="https://unpkg.com/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
<meta name="generator" content="Hexo 5.4.0"></head>
<body>

    <main class="app">
        <header id="header" class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">Jim&#39;s Personal Blog</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/categories/%E7%BC%96%E7%A8%8B">
                <span class="nav-text">编程</span>
            </a>
        
            <a class="nav-item" href="/categories/%E7%B4%A2%E5%BC%95">
                <span class="nav-text">索引</span>
            </a>
        
            <a class="nav-item" href="/categories/%E9%98%9F%E5%88%97">
                <span class="nav-text">队列</span>
            </a>
        
            <a class="nav-item" href="/categories/%E7%BC%93%E5%AD%98">
                <span class="nav-text">缓存</span>
            </a>
        
            <a class="nav-item" href="/categories/%E5%AD%98%E5%82%A8">
                <span class="nav-text">存储</span>
            </a>
        
            <a class="nav-item" href="/categories/%E5%AE%89%E5%85%A8">
                <span class="nav-text">安全</span>
            </a>
        
            <a class="nav-item" href="/tags">
                <span class="nav-text">标签</span>
            </a>
        
            <a class="nav-item" href="/archives">
                <span class="nav-text">归档</span>
            </a>
        
            <a class="nav-item" href="/about">
                <span class="nav-text">关于</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="https://ipple1986.github.io"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%EF%BC%9A%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%BB%8F%E5%B8%B8%E7%A2%B0%E5%88%B0%E9%9C%80%E8%A6%81%E7%94%9F%E6%88%90%E6%A3%AE%E6%9E%97-%E6%A0%91%EF%BC%88%E4%B8%A5%E6%A0%BC%E4%B8%8A%E8%AE%B2%EF%BC%8C%E9%9D%9E%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%A3%AE%E6%9E%97%EF%BC%89%E7%9A%84%E5%9C%BA%E6%99%AF%EF%BC%8C%E6%AF%94%E5%A6%82%E9%83%A8%E9%97%A8%E6%A0%91%E3%80%81%E8%8F%9C%E5%8D%95%E6%A0%91%E7%AD%89%E7%AD%89"><span class="toc-number">1.</span> <span class="toc-text">背景：项目中经常碰到需要生成森林&#x2F;树（严格上讲，非二叉树的森林）的场景，比如部门树、菜单树等等</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86-%E6%97%A0%E9%9D%9EBSF-DSF-%E5%80%9F%E5%8A%A9%E9%80%92%E5%BD%92-%E7%BA%BF%E6%80%A7%E8%A1%A8%EF%BC%88%E6%A0%88%E3%80%81%E9%98%9F%E5%88%97%EF%BC%89%E5%AE%9E%E7%8E%B0%E3%80%82"><span class="toc-number">2.</span> <span class="toc-text">树的遍历:无非BSF&#x2F;DSF,借助递归&#x2F;线性表（栈、队列）实现。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E7%82%B9%E6%9C%89%E4%B8%89%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">要点有三：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E6%A3%B5%E6%A3%AE%E6%9E%97-%E6%A0%91%EF%BC%9F"><span class="toc-number">3.1.</span> <span class="toc-text">1.如何构建一棵森林&#x2F;树？</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9C%A8%E6%9E%84%E5%BB%BA%E4%B9%8B%E5%89%8D%EF%BC%8C%E9%9C%80%E8%A6%81%E5%AE%9A%E4%B9%89%E6%A0%91%E8%8A%82%E7%82%B9%E3%80%82%E7%AE%80%E5%8D%95%E8%B5%B7%E8%A7%81%EF%BC%8C%E5%AE%9A%E4%B9%89%E6%A0%91%E8%8A%82%E7%82%B9%E5%A6%82%E4%B8%8B"><span class="toc-number">3.1.0.1.</span> <span class="toc-text">在构建之前，需要定义树节点。简单起见，定义树节点如下</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%80%92%E5%BD%92%E6%96%B9%E5%BC%8F%E6%9E%84%E5%BB%BA%E6%A3%AE%E6%9E%97-%E6%A0%91"><span class="toc-number">3.1.0.2.</span> <span class="toc-text">利用递归方式构建森林&#x2F;树</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%A5%E6%9E%84%E5%BB%BA%E4%B8%80%E6%A3%B5%E5%8A%A8%E7%89%A9%E5%88%86%E7%B1%BB%E6%A0%91%E4%B8%BA%E4%BE%8B%EF%BC%8C%E6%B5%8B%E8%AF%95%E5%A6%82%E4%B8%8B"><span class="toc-number">3.1.0.3.</span> <span class="toc-text">以构建一棵动物分类树为例，测试如下</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C"><span class="toc-number">3.1.0.4.</span> <span class="toc-text">测试结果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%80%9A%E7%94%A8%E5%8C%96%EF%BC%9A%E4%B8%BA%E6%8F%90%E9%AB%98%E4%BB%A3%E7%A0%81%E5%A4%8D%E7%94%A8%E5%BA%A6%EF%BC%8C%E5%A6%82%E4%BD%95%E8%AE%A9%E6%9E%84%E5%BB%BA%E6%A0%91%E7%9A%84%E6%96%B9%E6%B3%95buildTree%E6%9B%B4%E5%8A%A0%E9%80%9A%E7%94%A8%E6%80%A7%EF%BC%9F"><span class="toc-number">3.2.</span> <span class="toc-text">2.通用化：为提高代码复用度，如何让构建树的方法buildTree更加通用性？</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Java%E6%8F%90%E4%BE%9B%E7%9A%84%E6%8E%A5%E5%8F%A3-%E6%B3%9B%E5%9E%8B%EF%BC%88C-%E6%A8%A1%E6%9D%BF%EF%BC%89%EF%BC%8C%E8%83%BD%E5%A4%9F%E5%B8%AE%E6%88%91%E4%BB%AC%E8%A7%A3%E5%86%B3%E8%BF%99%E6%A0%B7%E7%9A%84%E4%BA%8B%E6%83%85%E3%80%82"><span class="toc-number">3.2.0.1.</span> <span class="toc-text">Java提供的接口+泛型（C++模板），能够帮我们解决这样的事情。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%A6%96%E5%85%88-%E5%9B%9E%E6%83%B3%E4%B8%80%E4%B8%8B%E5%9C%A8%E6%9E%84%E5%BB%BA%E6%A0%91%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E5%88%B0%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">3.2.0.2.</span> <span class="toc-text">首先 回想一下在构建树的方法中，我们使用到了什么？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#List-Node-getId-Node-getParentId-Node-getChildren"><span class="toc-number">3.2.0.3.</span> <span class="toc-text">List + Node.getId() + Node.getParentId() + Node.getChildren()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%B0%86Node%E8%8A%82%E7%82%B9%E9%80%9A%E7%94%A8%E5%8C%96%E6%8E%A5%E5%8F%A3%E5%8C%96%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E8%AE%A9buildTree%E6%9B%B4%E5%8A%A0%E9%80%9A%E7%94%A8%E5%8C%96%EF%BC%8C%E5%A6%82%E4%B8%8B"><span class="toc-number">3.2.0.4.</span> <span class="toc-text">通过将Node节点通用化接口化，我们可以让buildTree更加通用化，如下</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%94%B9%E9%80%A0%E6%9E%84%E5%BB%BA%E6%A0%91%E6%96%B9%E6%B3%95-%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0-defaultParentKeyWhenParentIsNull%E7%94%A8%E6%9D%A5%E6%8C%87%E5%AE%9Aparent%E4%B8%BAnull%E6%97%B6%EF%BC%8C%E9%BB%98%E8%AE%A4%E7%9A%84%E6%AF%94%E8%BE%83%E5%80%BC-%E5%A6%82%E4%B8%8B"><span class="toc-number">3.2.0.5.</span> <span class="toc-text">改造构建树方法(第三个参数 defaultParentKeyWhenParentIsNull用来指定parent为null时，默认的比较值),如下</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%8F%A6%E4%B8%80%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A0%91%E8%8A%82%E7%82%B9AnotherNode-%E4%B8%BB%E9%94%AE%E8%BF%99%E4%BC%9A%E6%8D%A2%E6%88%90String-%EF%BC%8C%E5%AE%9E%E7%8E%B0%E9%80%9A%E7%94%A8%E6%8E%A5%E5%8F%A3TreeNode"><span class="toc-number">3.2.0.6.</span> <span class="toc-text">定义另一种类型的树节点AnotherNode(主键这会换成String)，实现通用接口TreeNode</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE"><span class="toc-number">3.2.0.7.</span> <span class="toc-text">测试数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C"><span class="toc-number">3.2.0.8.</span> <span class="toc-text">结果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%A3%81%E6%A0%91%EF%BC%9A%E5%81%87%E8%AE%BE%E6%9F%90%E7%B1%BB%E6%A0%91%E8%8A%82%E7%82%B9%E5%8C%85%E5%90%AB%E5%AD%97%E6%AE%B5flag%EF%BC%8C%E5%8F%96%E5%80%BC0%E6%88%961%E3%80%82%E9%9C%80%E8%A6%81%E6%B1%82%E5%8C%85%E5%90%ABflag-1%E7%9A%84%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E6%89%80%E6%9E%84%E6%88%90%E7%9A%84%E6%A0%91%EF%BC%8C%E5%A6%82%E4%BD%95%E7%A0%B4%EF%BC%9F"><span class="toc-number">3.3.</span> <span class="toc-text">3.裁树：假设某类树节点包含字段flag，取值0或1。需要求包含flag&#x3D;1的所有节点所构成的树，如何破？</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B1%82%E6%9F%90%E4%B8%AA%EF%BC%88%E6%88%96%E5%A4%9A%E4%B8%AA%EF%BC%89%E5%AD%97%E6%AE%B5%E6%BB%A1%E8%B6%B3%E4%B8%80%E5%AE%9A%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%A0%91%E8%8A%82%E7%82%B9%E6%89%80%E6%9E%84%E6%88%90%E7%9A%84%E5%AD%90%E6%A0%91%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%BB%A5%E4%B8%8B%E6%80%9D%E8%B7%AF%EF%BC%9A"><span class="toc-number">3.3.0.1.</span> <span class="toc-text">求某个（或多个）字段满足一定条件的树节点所构成的子树，可以通过以下思路：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E6%96%B9%E6%B3%95"><span class="toc-number">3.3.0.2.</span> <span class="toc-text">收集方法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%87%8D%E6%9E%84%E6%9E%84%E5%BB%BA%E6%A0%91%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">3.3.0.3.</span> <span class="toc-text">重构构建树的方法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-1"><span class="toc-number">3.3.0.4.</span> <span class="toc-text">测试数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C-1"><span class="toc-number">3.3.0.5.</span> <span class="toc-text">测试结果</span></a></li></ol></li></ol></li></ol></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
            <div id="wrapper" class="wrapper" style="max-width: 800px">
                <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            通用化递归建树与裁剪树
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="https://ipple1986.github.io/2022/03/12/%E9%80%9A%E7%94%A8%E5%8C%96%E9%80%92%E5%BD%92%E5%BB%BA%E6%A0%91%E4%B8%8E%E8%A3%81%E5%89%AA%E6%A0%91/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2022-03-12T14:32:42.000Z" itemprop="datePublished">2022-03-12 22:32:42</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag vm"></i>
    <a class="article-tag-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" rel="tag">数据结构与算法</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h3 id="背景：项目中经常碰到需要生成森林-树（严格上讲，非二叉树的森林）的场景，比如部门树、菜单树等等"><a href="#背景：项目中经常碰到需要生成森林-树（严格上讲，非二叉树的森林）的场景，比如部门树、菜单树等等" class="headerlink" title="背景：项目中经常碰到需要生成森林/树（严格上讲，非二叉树的森林）的场景，比如部门树、菜单树等等"></a>背景：项目中经常碰到需要生成森林/树（严格上讲，非二叉树的森林）的场景，比如部门树、菜单树等等</h3><h3 id="树的遍历-无非BSF-DSF-借助递归-线性表（栈、队列）实现。"><a href="#树的遍历-无非BSF-DSF-借助递归-线性表（栈、队列）实现。" class="headerlink" title="树的遍历:无非BSF/DSF,借助递归/线性表（栈、队列）实现。"></a>树的遍历:无非BSF/DSF,借助递归/线性表（栈、队列）实现。</h3><h3 id="要点有三："><a href="#要点有三：" class="headerlink" title="要点有三："></a>要点有三：</h3><ul>
<li>1.用递归方式实现DSF遍历来构建森林/树</li>
<li>2.利用接口+泛型，抽象化树节点，以便支持更多不同类型节点（部门/菜单）的场景</li>
<li>3.通过树节点字段的过滤，实现对树的裁剪</li>
</ul>
<h4 id="1-如何构建一棵森林-树？"><a href="#1-如何构建一棵森林-树？" class="headerlink" title="1.如何构建一棵森林/树？"></a>1.如何构建一棵森林/树？</h4><h6 id="在构建之前，需要定义树节点。简单起见，定义树节点如下"><a href="#在构建之前，需要定义树节点。简单起见，定义树节点如下" class="headerlink" title="在构建之前，需要定义树节点。简单起见，定义树节点如下"></a>在构建之前，需要定义树节点。简单起见，定义树节点如下</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class Node &#123;</span><br><span class="line">    private String id;</span><br><span class="line">    private String parentId;</span><br><span class="line">    private String name;</span><br><span class="line">    private List&lt;Node&gt; children = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public Node(String id, String parentId, String name) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">        this.parentId = parentId;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="利用递归方式构建森林-树"><a href="#利用递归方式构建森林-树" class="headerlink" title="利用递归方式构建森林/树"></a>利用递归方式构建森林/树</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public static List&lt;Node&gt; buildTree(Node parent,List&lt;Node&gt; nodes)&#123;</span><br><span class="line">    if(Objects.isNull(parent))&#123;</span><br><span class="line">        return nodes.stream().filter(node-&gt;Objects.equals(node.getParentId(), 0)).map(node-&gt;&#123;</span><br><span class="line">            node.getChildren().addAll(buildTree(node,nodes));</span><br><span class="line">            return node;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return nodes.stream().filter(node-&gt;Objects.equals(node.getParentId() , parent.getId())).map(node-&gt;&#123;</span><br><span class="line">            node.getChildren().addAll(buildTree(node,nodes));</span><br><span class="line">            return node;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="以构建一棵动物分类树为例，测试如下"><a href="#以构建一棵动物分类树为例，测试如下" class="headerlink" title="以构建一棵动物分类树为例，测试如下"></a>以构建一棵动物分类树为例，测试如下</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Node&gt; nodes = new ArrayList&lt;Node&gt;()&#123;&#123;</span><br><span class="line">    add(new Node(1,0,&quot;动物-0&quot;));</span><br><span class="line">    add(new Node(2,1,&quot;无脊椎-1&quot;));</span><br><span class="line">    add(new Node(3,2,&quot;无外骨骼-1-1&quot;));</span><br><span class="line">    add(new Node(4,3,&quot;身体不分节-1-1-1&quot;));</span><br><span class="line">    add(new Node(5,4,&quot;涡虫-1-1-1-1&quot;));</span><br><span class="line">    add(new Node(6,3,&quot;身体分节-1-1-2&quot;));</span><br><span class="line">    add(new Node(7,6,&quot;蚯蚓-1-1-2-1&quot;));</span><br><span class="line">    add(new Node(8,2,&quot;有外骨骼-1-2&quot;));</span><br><span class="line">    add(new Node(9,8,&quot;有翅-1-2-1&quot;));</span><br><span class="line">    add(new Node(10,9,&quot;蜜蜂-1-2-1-1&quot;));</span><br><span class="line">    add(new Node(11,8,&quot;无翅-1-2-2&quot;));</span><br><span class="line">    add(new Node(12,11,&quot;蜈蚣-1-2-2-1&quot;));</span><br><span class="line">    add(new Node(13,1,&quot;有脊椎-1&quot;));</span><br><span class="line">    add(new Node(14,13,&quot;恒温-1-1&quot;));</span><br><span class="line">    add(new Node(15,13,&quot;变温-1-2&quot;));</span><br><span class="line">&#125;&#125;;</span><br><span class="line">List&lt;Node&gt; tree = buildTree(null,nodes);</span><br><span class="line">System.out.println(objectMapper.writeValueAsString(tree));</span><br></pre></td></tr></table></figure>
<h6 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">	&quot;id&quot;: 1,</span><br><span class="line">	&quot;parentId&quot;: 0,</span><br><span class="line">	&quot;name&quot;: &quot;动物-0&quot;,</span><br><span class="line">	&quot;children&quot;: [&#123;</span><br><span class="line">		&quot;id&quot;: 2,</span><br><span class="line">		&quot;parentId&quot;: 1,</span><br><span class="line">		&quot;name&quot;: &quot;无脊椎-1&quot;,</span><br><span class="line">		&quot;children&quot;: [&#123;</span><br><span class="line">			&quot;id&quot;: 3,</span><br><span class="line">			&quot;parentId&quot;: 2,</span><br><span class="line">			&quot;name&quot;: &quot;无外骨骼-1-1&quot;,</span><br><span class="line">			&quot;children&quot;: [&#123;</span><br><span class="line">				&quot;id&quot;: 4,</span><br><span class="line">				&quot;parentId&quot;: 3,</span><br><span class="line">				&quot;name&quot;: &quot;身体不分节-1-1-1&quot;,</span><br><span class="line">				&quot;children&quot;: [&#123;</span><br><span class="line">					&quot;id&quot;: 5,</span><br><span class="line">					&quot;parentId&quot;: 4,</span><br><span class="line">					&quot;name&quot;: &quot;涡虫-1-1-1-1&quot;,</span><br><span class="line">					&quot;children&quot;: []</span><br><span class="line">				&#125;]</span><br><span class="line">			&#125;, &#123;</span><br><span class="line">				&quot;id&quot;: 6,</span><br><span class="line">				&quot;parentId&quot;: 3,</span><br><span class="line">				&quot;name&quot;: &quot;身体分节-1-1-2&quot;,</span><br><span class="line">				&quot;children&quot;: [&#123;</span><br><span class="line">					&quot;id&quot;: 7,</span><br><span class="line">					&quot;parentId&quot;: 6,</span><br><span class="line">					&quot;name&quot;: &quot;蚯蚓-1-1-2-1&quot;,</span><br><span class="line">					&quot;children&quot;: []</span><br><span class="line">				&#125;]</span><br><span class="line">			&#125;]</span><br><span class="line">		&#125;, &#123;</span><br><span class="line">			&quot;id&quot;: 8,</span><br><span class="line">			&quot;parentId&quot;: 2,</span><br><span class="line">			&quot;name&quot;: &quot;有外骨骼-1-2&quot;,</span><br><span class="line">			&quot;children&quot;: [&#123;</span><br><span class="line">				&quot;id&quot;: 9,</span><br><span class="line">				&quot;parentId&quot;: 8,</span><br><span class="line">				&quot;name&quot;: &quot;有翅-1-2-1&quot;,</span><br><span class="line">				&quot;children&quot;: [&#123;</span><br><span class="line">					&quot;id&quot;: 10,</span><br><span class="line">					&quot;parentId&quot;: 9,</span><br><span class="line">					&quot;name&quot;: &quot;蜜蜂-1-2-1-1&quot;,</span><br><span class="line">					&quot;children&quot;: []</span><br><span class="line">				&#125;]</span><br><span class="line">			&#125;, &#123;</span><br><span class="line">				&quot;id&quot;: 11,</span><br><span class="line">				&quot;parentId&quot;: 8,</span><br><span class="line">				&quot;name&quot;: &quot;无翅-1-2-2&quot;,</span><br><span class="line">				&quot;children&quot;: [&#123;</span><br><span class="line">					&quot;id&quot;: 12,</span><br><span class="line">					&quot;parentId&quot;: 11,</span><br><span class="line">					&quot;name&quot;: &quot;蜈蚣-1-2-2-1&quot;,</span><br><span class="line">					&quot;children&quot;: []</span><br><span class="line">				&#125;]</span><br><span class="line">			&#125;]</span><br><span class="line">		&#125;]</span><br><span class="line">	&#125;, &#123;</span><br><span class="line">		&quot;id&quot;: 13,</span><br><span class="line">		&quot;parentId&quot;: 1,</span><br><span class="line">		&quot;name&quot;: &quot;有脊椎-1&quot;,</span><br><span class="line">		&quot;children&quot;: [&#123;</span><br><span class="line">			&quot;id&quot;: 14,</span><br><span class="line">			&quot;parentId&quot;: 13,</span><br><span class="line">			&quot;name&quot;: &quot;恒温-1-1&quot;,</span><br><span class="line">			&quot;children&quot;: []</span><br><span class="line">		&#125;, &#123;</span><br><span class="line">			&quot;id&quot;: 15,</span><br><span class="line">			&quot;parentId&quot;: 13,</span><br><span class="line">			&quot;name&quot;: &quot;变温-1-2&quot;,</span><br><span class="line">			&quot;children&quot;: []</span><br><span class="line">		&#125;]</span><br><span class="line">	&#125;]</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
<h4 id="2-通用化：为提高代码复用度，如何让构建树的方法buildTree更加通用性？"><a href="#2-通用化：为提高代码复用度，如何让构建树的方法buildTree更加通用性？" class="headerlink" title="2.通用化：为提高代码复用度，如何让构建树的方法buildTree更加通用性？"></a>2.通用化：为提高代码复用度，如何让构建树的方法buildTree更加通用性？</h4><h6 id="Java提供的接口-泛型（C-模板），能够帮我们解决这样的事情。"><a href="#Java提供的接口-泛型（C-模板），能够帮我们解决这样的事情。" class="headerlink" title="Java提供的接口+泛型（C++模板），能够帮我们解决这样的事情。"></a>Java提供的接口+泛型（C++模板），能够帮我们解决这样的事情。</h6><h6 id="首先-回想一下在构建树的方法中，我们使用到了什么？"><a href="#首先-回想一下在构建树的方法中，我们使用到了什么？" class="headerlink" title="首先 回想一下在构建树的方法中，我们使用到了什么？"></a>首先 回想一下在构建树的方法中，我们使用到了什么？</h6><h6 id="List-Node-getId-Node-getParentId-Node-getChildren"><a href="#List-Node-getId-Node-getParentId-Node-getChildren" class="headerlink" title="List + Node.getId() + Node.getParentId() + Node.getChildren()"></a>List<Node> + Node.getId() + Node.getParentId() + Node.getChildren()</h6><h6 id="通过将Node节点通用化接口化，我们可以让buildTree更加通用化，如下"><a href="#通过将Node节点通用化接口化，我们可以让buildTree更加通用化，如下" class="headerlink" title="通过将Node节点通用化接口化，我们可以让buildTree更加通用化，如下"></a>通过将Node节点通用化接口化，我们可以让buildTree更加通用化，如下</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public interface TreeNode&lt;K,N&gt; &#123;</span><br><span class="line">    K getId();</span><br><span class="line">    K getParentId();</span><br><span class="line">    List&lt;N&gt; getChildren();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="改造构建树方法-第三个参数-defaultParentKeyWhenParentIsNull用来指定parent为null时，默认的比较值-如下"><a href="#改造构建树方法-第三个参数-defaultParentKeyWhenParentIsNull用来指定parent为null时，默认的比较值-如下" class="headerlink" title="改造构建树方法(第三个参数 defaultParentKeyWhenParentIsNull用来指定parent为null时，默认的比较值),如下"></a>改造构建树方法(第三个参数 defaultParentKeyWhenParentIsNull用来指定parent为null时，默认的比较值),如下</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public static  &lt;T extends TreeNode&lt;K,T&gt;,K&gt;  List&lt;T&gt; buildTree(T parent,List&lt;T&gt; nodes,K defaultParentKeyWhenParentIsNull)&#123;</span><br><span class="line">    if(Objects.isNull(parent))&#123;</span><br><span class="line">        return nodes.stream().filter(node-&gt;Objects.equals(node.getParentId(), defaultParentKeyWhenParentIsNull)).map(node-&gt;&#123;</span><br><span class="line">            node.getChildren().addAll(buildTree(node,nodes,defaultParentKeyWhenParentIsNull));</span><br><span class="line">            return node;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return nodes.stream().filter(node-&gt;Objects.equals(node.getParentId() , parent.getId())).map(node-&gt;&#123;</span><br><span class="line">            node.getChildren().addAll(buildTree(node,nodes,defaultParentKeyWhenParentIsNull));</span><br><span class="line">            return node;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="定义另一种类型的树节点AnotherNode-主键这会换成String-，实现通用接口TreeNode"><a href="#定义另一种类型的树节点AnotherNode-主键这会换成String-，实现通用接口TreeNode" class="headerlink" title="定义另一种类型的树节点AnotherNode(主键这会换成String)，实现通用接口TreeNode"></a>定义另一种类型的树节点AnotherNode(主键这会换成String)，实现通用接口TreeNode</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class AnotherNode implements TreeNode&lt;String,AnotherNode&gt;&#123;</span><br><span class="line">    private String id;</span><br><span class="line">    private String parentId;</span><br><span class="line">    private String name;</span><br><span class="line">    private List&lt;AnotherNode&gt; children = new ArrayList&lt;&gt;();</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">List&lt;AnotherNode&gt; nodes2 = new ArrayList&lt;AnotherNode&gt;()&#123;&#123;</span><br><span class="line">    add(new AnotherNode(&quot;1&quot;,&quot;0&quot;,&quot;组织架构&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;2&quot;,&quot;1&quot;,&quot;财务部&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;3&quot;,&quot;1&quot;,&quot;人事部&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;4&quot;,&quot;1&quot;,&quot;研发部&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;5&quot;,&quot;4&quot;,&quot;研发部1&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;6&quot;,&quot;4&quot;,&quot;研发部2&quot;));</span><br><span class="line">&#125;&#125;;</span><br><span class="line">List&lt;AnotherNode&gt; tree2 = buildTree(null,nodes2,&quot;0&quot;);</span><br><span class="line">String result2 = objectMapper.writeValueAsString(tree2);</span><br><span class="line">System.out.println(result2);</span><br></pre></td></tr></table></figure>
<h6 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">	&quot;id&quot;: &quot;1&quot;,</span><br><span class="line">	&quot;parentId&quot;: &quot;0&quot;,</span><br><span class="line">	&quot;name&quot;: &quot;组织架构&quot;,</span><br><span class="line">	&quot;children&quot;: [&#123;</span><br><span class="line">		&quot;id&quot;: &quot;2&quot;,</span><br><span class="line">		&quot;parentId&quot;: &quot;1&quot;,</span><br><span class="line">		&quot;name&quot;: &quot;财务部&quot;,</span><br><span class="line">		&quot;children&quot;: []</span><br><span class="line">	&#125;, &#123;</span><br><span class="line">		&quot;id&quot;: &quot;3&quot;,</span><br><span class="line">		&quot;parentId&quot;: &quot;1&quot;,</span><br><span class="line">		&quot;name&quot;: &quot;人事部&quot;,</span><br><span class="line">		&quot;children&quot;: []</span><br><span class="line">	&#125;, &#123;</span><br><span class="line">		&quot;id&quot;: &quot;4&quot;,</span><br><span class="line">		&quot;parentId&quot;: &quot;1&quot;,</span><br><span class="line">		&quot;name&quot;: &quot;研发部&quot;,</span><br><span class="line">		&quot;children&quot;: [&#123;</span><br><span class="line">			&quot;id&quot;: &quot;5&quot;,</span><br><span class="line">			&quot;parentId&quot;: &quot;4&quot;,</span><br><span class="line">			&quot;name&quot;: &quot;研发部1&quot;,</span><br><span class="line">			&quot;children&quot;: []</span><br><span class="line">		&#125;, &#123;</span><br><span class="line">			&quot;id&quot;: &quot;6&quot;,</span><br><span class="line">			&quot;parentId&quot;: &quot;4&quot;,</span><br><span class="line">			&quot;name&quot;: &quot;研发部2&quot;,</span><br><span class="line">			&quot;children&quot;: []</span><br><span class="line">		&#125;]</span><br><span class="line">	&#125;]</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
<h4 id="3-裁树：假设某类树节点包含字段flag，取值0或1。需要求包含flag-1的所有节点所构成的树，如何破？"><a href="#3-裁树：假设某类树节点包含字段flag，取值0或1。需要求包含flag-1的所有节点所构成的树，如何破？" class="headerlink" title="3.裁树：假设某类树节点包含字段flag，取值0或1。需要求包含flag=1的所有节点所构成的树，如何破？"></a>3.裁树：假设某类树节点包含字段flag，取值0或1。需要求包含flag=1的所有节点所构成的树，如何破？</h4><h6 id="求某个（或多个）字段满足一定条件的树节点所构成的子树，可以通过以下思路："><a href="#求某个（或多个）字段满足一定条件的树节点所构成的子树，可以通过以下思路：" class="headerlink" title="求某个（或多个）字段满足一定条件的树节点所构成的子树，可以通过以下思路："></a>求某个（或多个）字段满足一定条件的树节点所构成的子树，可以通过以下思路：</h6><ul>
<li>1.可以通过提取满足条件的节点以及所有祖先节点</li>
<li>2.用将上面所收集到的节点来构建树</li>
</ul>
<h6 id="收集方法"><a href="#收集方法" class="headerlink" title="收集方法"></a>收集方法</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">private static &lt;T extends TreeNode&lt;K,T&gt;,K&gt;  List&lt;T&gt;  filter(List&lt;T&gt; nodes,Predicate&lt;T&gt; predicate)&#123;</span><br><span class="line">        List&lt;T&gt; highlightNodes = nodes.stream().filter(predicate).collect(Collectors.toList());</span><br><span class="line">        List&lt;T&gt; results = new ArrayList&lt;&gt;();</span><br><span class="line">        highlightNodes.forEach(node-&gt;&#123;</span><br><span class="line">            while(!Objects.isNull(node) &amp;&amp; !results.contains(node))&#123;</span><br><span class="line">                results.add(node);</span><br><span class="line">                K id = node.getParentId();</span><br><span class="line">                node = nodes.stream().filter(n-&gt;Objects.equals(n.getId(),id)).findAny().orElse(null);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        return results;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="重构构建树的方法"><a href="#重构构建树的方法" class="headerlink" title="重构构建树的方法"></a>重构构建树的方法</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public static  &lt;T extends TreeNode&lt;K,T&gt;,K&gt;  List&lt;T&gt; buildTree(T parent, List&lt;T&gt; nodes, K defaultParentKey, Predicate&lt;T&gt; predicate)&#123;</span><br><span class="line">    if(Objects.isNull(predicate))&#123;</span><br><span class="line">        return buildTree(parent,nodes,defaultParentKey);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return buildTree(parent,filter(nodes,predicate),defaultParentKey);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="测试数据-1"><a href="#测试数据-1" class="headerlink" title="测试数据"></a>测试数据</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">List&lt;AnotherNode&gt; nodes2 = new ArrayList&lt;AnotherNode&gt;()&#123;&#123;</span><br><span class="line">    add(new AnotherNode(&quot;1&quot;,&quot;0&quot;,&quot;组织架构&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;2&quot;,&quot;1&quot;,&quot;财务部&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;3&quot;,&quot;1&quot;,&quot;人事部&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;4&quot;,&quot;1&quot;,&quot;研发部&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;5&quot;,&quot;4&quot;,&quot;研发部1&quot;));</span><br><span class="line">    add(new AnotherNode(&quot;6&quot;,&quot;4&quot;,&quot;研发部2&quot;));</span><br><span class="line">&#125;&#125;;</span><br><span class="line"></span><br><span class="line">List&lt;AnotherNode&gt; tree3 = buildTree(null,nodes2,&quot;0&quot;,(node)-&gt;node.getName().contains(&quot;发&quot;));</span><br><span class="line">String result3 = objectMapper.writeValueAsString(tree3);</span><br><span class="line">System.out.println(result3);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="测试结果-1"><a href="#测试结果-1" class="headerlink" title="测试结果"></a>测试结果</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">	&quot;id&quot;: &quot;1&quot;,</span><br><span class="line">	&quot;parentId&quot;: &quot;0&quot;,</span><br><span class="line">	&quot;name&quot;: &quot;组织架构&quot;,</span><br><span class="line">	&quot;children&quot;: [&#123;</span><br><span class="line">		&quot;id&quot;: &quot;2&quot;,</span><br><span class="line">		&quot;parentId&quot;: &quot;1&quot;,</span><br><span class="line">		&quot;name&quot;: &quot;财务部&quot;,</span><br><span class="line">		&quot;children&quot;: []</span><br><span class="line">	&#125;]</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
        
    </section>
</article>



<a id="pagenext" href="/2021/08/27/Java%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E3%80%90%E6%80%BB%E7%BB%93%E7%AF%87%E3%80%91/" class="article-next" title="Java构建工具【总结篇】"><i class="icon-arrow-right"></i></a>





            </div>
        </div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>,  <a href="https://github.com/ipple1986/essence" target="_blank">Essence</a>

    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?7f78a84ce5b3e48cdc8ea546fd743a2b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
</footer>

    </main>

    <script type="text/javascript" src="https://unpkg.com/jquery@1.9.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }

            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle('normal', slideDone);
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp('normal', slideDone);
            }, 3000);
        }

        function slideDone() {
            if (nodes.navInner.css('display') !== 'none') {
                nodes.navInner.css('display', '');
            }
        }

        $(window).on('resize', function() {
            if ($(this).width() > 960) {
                nodes.navInner.css('display', '');
            }
        });
    });
    </script>
    
        
<script src="/js/scrollspy.min.js"></script>

        <script type="text/javascript">
        $(document.body).scrollspy({target: '#aside-inner'});

        $(window).on('resize', function() {
            var hw = $('#header').width();
            var ww = $('#wrapper').width();
            var space = ($(this).width() - hw - ww) / 2 / 2;

            var pageprev = $('#pageprev');
            var pagenext = $('#pagenext');
            var avg = (pageprev.width() + pagenext.width()) / 2

            if(space > avg) {
                var len = space - avg / 2;
                var styles = {position: 'fixed', top: '50%', marginTop: - (pageprev.width() + pagenext.width()) / 4}
                pageprev.css($.extend({left: hw + len}, styles));
                pagenext.css($.extend({right: len}, styles));
            } else {
                pageprev.removeAttr('style');
                pagenext.removeAttr('style');
            }
        }).trigger('resize');
        </script>
    

</body>
</html>
